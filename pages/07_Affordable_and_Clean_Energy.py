import streamlit as st
import streamlit.components.v1 as components

def create_goal_section(number, goal, subdescription, iframe_url):
    st.markdown(f"### {number}. {goal}")
    st.markdown(f"_{subdescription}_")
    components.iframe(iframe_url, height=500)

st.title('–ó–æ—Ä–∏–ª—Ç 7. –°—ç—Ä–≥—ç—ç–≥–¥—ç—Ö —ç—Ä—á–∏–º —Ö“Ø—á–∏–π–≥ –Ω—ç–≤—Ç—Ä“Ø“Ø–ª—ç—Ö')

st.write('–•“Ø–Ω –±“Ø—Ä–∏–π–≥ –±–æ–ª–æ–º–∂–∏–π–Ω, –Ω–∞–π–¥–≤–∞—Ä—Ç–∞–π, —Ç–æ–≥—Ç–≤–æ—Ä—Ç–æ–π, –æ—Ä—á–∏–Ω “Ø–µ–∏–π–Ω —ç—Ä—á–∏–º —Ö“Ø—á —Ö—ç—Ä—ç–≥–ª—ç—Ö –±–æ–ª–æ–º–∂–æ–æ—Ä —Ö–∞–Ω–≥–∞—Ö')
st.divider()

#JSON table
goals_data = {
  "goals": [
    {
      "number": "7.1",
      "goal": "2030 –æ–Ω –≥—ç—Ö—ç–¥ –±–æ–ª–æ–º–∂–∏–π–Ω, –Ω–∞–π–¥–≤–∞—Ä—Ç–∞–π, –æ—Ä—á–∏–Ω “Ø–µ–∏–π–Ω —ç—Ä—á–∏–º —Ö“Ø—á–Ω–∏–π “Ø–π–ª—á–∏–ª–≥—ç—ç–≥—ç—ç—Ä —Ö“Ø–Ω –±“Ø—Ä–∏–π–≥ —Ö–∞–Ω–≥–∞—Ö",
      "subgoals": [
        {
          "number": "7.1.1",
          "description": "–¶–∞—Ö–∏–ª–≥–∞–∞–Ω —ç—Ä—á–∏–º —Ö“Ø—á—ç—ç—Ä —Ö–∞–Ω–≥–∞–≥–¥—Å–∞–Ω —Ö“Ø–Ω –∞–º—ã–Ω —ç–∑–ª—ç—Ö —Ö—É–≤—å",
          "iframe_url": "https://ourworldindata.org/grapher/share-of-the-population-with-access-to-electricity"
        },
        {
          "number": "7.1.2",
          "description": "–¶—ç–≤—ç—Ä —Ç“Ø–ª—à, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π–≥ –≥–æ–ª—á–ª–æ–Ω —Ö—ç—Ä—ç–≥–ª—ç–¥—ç–≥ —Ö“Ø–Ω –∞–º—ã–Ω —ç–∑–ª—ç—Ö —Ö—É–≤—å",
          "iframe_url": "https://ourworldindata.org/grapher/access-to-clean-fuels-and-technologies-for-cooking"
        }
      ]
    },
    {
      "number": "7.2",
      "goal": "2030 –æ–Ω –≥—ç—Ö—ç–¥ –¥—ç–ª—Ö–∏–π–Ω —ç—Ä—á–∏–º —Ö“Ø—á–Ω–∏–π —Ö—ç—Ä—ç–≥–ª—ç—ç–Ω–¥ —Å—ç—Ä–≥—ç—ç–≥–¥—ç—Ö —ç—Ä—á–∏–º —Ö“Ø—á–Ω–∏–π —ç–∑–ª—ç—Ö —Ö—É–≤–∏–π–≥ “Ø–ª—ç–º–∂ —Ö—ç–º–∂—ç—ç–≥—ç—ç—Ä –Ω—ç–º—ç–≥–¥“Ø“Ø–ª—ç—Ö",
      "subgoals": [
        {
          "number": "7.2.1",
          "description": "–ù–∏–π—Ç —ç—Ä—á–∏–º —Ö“Ø—á–Ω–∏–π —ç—Ü—Å–∏–π–Ω —Ö—ç—Ä—ç–≥–ª—ç—ç–Ω–¥ —Å—ç—Ä–≥—ç—ç–≥–¥—ç—Ö —ç—Ä—á–∏–º —Ö“Ø—á–Ω–∏–π —ç–∑–ª—ç—Ö —Ö—É–≤—å",
          "iframe_url": "https://ourworldindata.org/grapher/share-of-final-energy-consumption-from-renewable-sources"
        }
      ]
    },
    {
      "number": "7.3",
      "goal": "2030 –æ–Ω –≥—ç—Ö—ç–¥ —ç—Ä—á–∏–º —Ö“Ø—á–Ω–∏–π “Ø—Ä –∞—à–∏–≥, —Ö—ç–º–Ω—ç–ª—Ç–∏–π–Ω —Ö—É—Ä–¥—ã–≥ –¥—ç–ª—Ö–∏–π–Ω —Ç“Ø–≤—à–∏–Ω–¥ —Ö–æ—ë—Ä –¥–∞—Ö–∏–Ω –Ω—ç–º—ç–≥–¥“Ø“Ø–ª—ç—Ö",
      "subgoals": [
        {
          "number": "7.3.1",
          "description": "–î–ù–ë, –∞–Ω—Ö–¥–∞–≥—á —ç—Ä—á–∏–º —Ö“Ø—á—ç—ç—Ä —Ö—ç–º–∂—Å—ç–Ω —ç—Ä—á–∏–º —Ö“Ø—á–Ω–∏–π “Ø—Ä –∞—à–∏–≥",
          "iframe_url": "https://ourworldindata.org/grapher/energy-intensity-of-economies"
        }
      ]
    },
    {
      "number": "7.A",
      "goal": "2030 –æ–Ω –≥—ç—Ö—ç–¥ —Ü—ç–≤—ç—Ä —ç—Ä—á–∏–º —Ö“Ø—á–Ω–∏–π —Å—É–¥–∞–ª–≥–∞–∞ —à–∏–Ω–∂–∏–ª–≥—ç—ç, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏, —Ç“Ø“Ø–Ω–∏–π –¥–æ—Ç–æ—Ä —Å—ç—Ä–≥—ç—ç–≥–¥—ç—Ö —ç—Ä—á–∏–º —Ö“Ø—á, —ç—Ä—á–∏–º —Ö“Ø—á–Ω–∏–π “Ø—Ä –∞—à–∏–≥, –¥—ç–≤—à–∏–ª—Ç—ç—Ç –±–æ–ª–æ–Ω —Ü—ç–≤—ç—Ä —Ö–∞—Ç—É—É —Ç“Ø–ª—à–Ω–∏–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π–≥ —Ö“Ø—Ä—Ç—ç—ç–º–∂—Ç—ç–π –±–æ–ª–≥–æ—Ö “Ø“Ø–¥–Ω—ç—ç—Å –æ–ª–æ–Ω —É–ª—Å—ã–Ω —Ö–∞–º—Ç—ã–Ω –∞–∂–∏–ª–ª–∞–≥–∞–∞–≥ —Å–∞–π–∂—Ä—É—É–ª–∂, —ç—Ä—á–∏–º —Ö“Ø—á–Ω–∏–π –¥—ç–¥ –±“Ø—Ç—ç—Ü, —Ü—ç–≤—ç—Ä —ç—Ä—á–∏–º —Ö“Ø—á–Ω–∏–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–¥ –æ—Ä—É—É–ª–∞—Ö —Ö”©—Ä”©–Ω–≥”© –æ—Ä—É—É–ª–∞–ª—Ç—ã–≥ —Ö”©—Ö“Ø“Ø–ª—ç–Ω –¥—ç–º–∂–∏—Ö",
      "subgoals": [
        {
          "number": "7.A.1",
          "description": "–¶—ç–≤—ç—Ä —ç—Ä—á–∏–º —Ö“Ø—á–Ω–∏–π —Å—É–¥–∞–ª–≥–∞–∞, —Ö”©–≥–∂–∏–ª, —Å—ç—Ä–≥—ç—ç–≥–¥—ç—Ö —ç—Ä—á–∏–º —Ö“Ø—á–Ω–∏–π “Ø–π–ª–¥–≤—ç—Ä–ª—ç–ª, —Ç“Ø“Ø–Ω–∏–π –¥–æ—Ç–æ—Ä —Ö–æ—Å–æ–ª–º–æ–ª —Å–∏—Å—Ç–µ–º–∏–π–≥ –¥—ç–º–∂–∏—Ö —á–∏–≥–ª—ç–ª—ç—ç—Ä —Ö”©–≥–∂–∏–∂ –±—É–π –æ—Ä–Ω—É—É–¥–∞–¥ “Ø–∑“Ø“Ø–ª–∂ –±—É–π –æ–ª–æ–Ω —É–ª—Å—ã–Ω —Å–∞–Ω—Ö“Ø“Ø–≥–∏–π–Ω —Ç—É—Å–ª–∞–º–∂",
          "iframe_url": "https://ourworldindata.org/grapher/international-finance-clean-energy"
        }
      ]
    },
    {
      "number": "7.B",
      "goal": "2030 –æ–Ω –≥—ç—Ö—ç–¥ —Ö”©–≥–∂–∏–∂ –±—É–π –æ—Ä–Ω—É—É–¥, —è–ª–∞–Ω–≥—É—è–∞ –Ω—ç–Ω –±—É—É—Ä–∞–π —Ö”©–≥–∂–∏–ª—Ç—ç–π –±–æ–ª–æ–Ω –∂–∏–∂–∏–≥ –∞—Ä–ª—ã–Ω —Ö”©–≥–∂–∏–∂ –±—É–π –æ—Ä–Ω—É—É–¥—ã–Ω –∏—Ä–≥—ç–¥–∏–π–≥ –æ—Ä—á–∏–Ω “Ø–µ–∏–π–Ω, —Ç–æ–≥—Ç–≤–æ—Ä—Ç–æ–π —ç—Ä—á–∏–º —Ö“Ø—á–Ω–∏–π “Ø–π–ª—á–∏–ª–≥—ç—ç–≥—ç—ç—Ä —Ö–∞–Ω–≥–∞—Ö –¥—ç–¥ –±“Ø—Ç—Ü–∏–π–≥ ”©—Ä–≥”©–∂“Ø“Ø–ª–∂, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π–≥ —à–∏–Ω—ç—á–ª—ç—Ö",
      "subgoals": [
        {
          "number": "7.B.1",
          "description": "–î–ù–ë-–Ω–¥ —ç–∑–ª—ç—Ö —ç—Ä—á–∏–º —Ö“Ø—á–Ω–∏–π “Ø—Ä –∞—à–∏–≥—Ç–∞–π –±–∞–π–¥–ª—ã–≥ –Ω—ç–º—ç–≥–¥“Ø“Ø–ª—ç—Ö —á–∏–≥–ª—ç—Å—ç–Ω —Ö”©—Ä”©–Ω–≥”© –æ—Ä—É—É–ª–∞–ª—Ç –±–æ–ª–æ–Ω —Ç–æ–≥—Ç–≤–æ—Ä—Ç–æ–π —Ö”©–≥–∂–ª–∏–π–≥ –¥—ç–º–∂—Å—ç–Ω –¥—ç–¥ –±“Ø—Ç—ç—Ü, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–¥ –∑–æ—Ä–∏—É–ª—Å–∞–Ω —Å–∞–Ω—Ö“Ø“Ø–∂–∏–ª—Ç—ã–≥ —Ö–∏–π—Ö—ç–¥ –∑–∞—Ä—Ü—É—É–ª—Å–∞–Ω –≥–∞–¥–∞–∞–¥—ã–Ω —à—É—É–¥ —Ö”©—Ä”©–Ω–≥”© –æ—Ä—É—É–ª–∞–ª—Ç—ã–Ω —Ö—ç–º–∂—ç—ç",
          "iframe_url": "https://ourworldindata.org/grapher/renewable-electricity-generating-capacity-per-capita"
        }
      ]
    }
  ]
}


def create_goal_section(number, goal, subgoals):
    st.markdown(f"### {number}. {goal}")
    for subgoal in subgoals:
        st.markdown(f"_{subgoal['number']}. {subgoal['description']}_")
        if 'iframe_url' in subgoal:
            components.iframe(subgoal['iframe_url'], height=500)
        else:
            st.markdown("–ú—ç–¥—ç—ç–ª—ç–ª –±–∞–π—Ö–≥“Ø–π –±–∞–π–Ω–∞.")

for data in goals_data['goals']:
    create_goal_section(
        number=data["number"],
        goal=data["goal"],
        subgoals=data["subgoals"]
    )


if st.button("–¶—ç—Å —Ä“Ø“Ø –±—É—Ü–∞—Ö"):
    st.switch_page("00_üìå_–≠—Ö–ª—ç–ª.py")

st.divider()


st.write('All plots generated by Our World In Data are under CC-BY License of Fair Use.')
st.write('2024 ¬© Green Dot Climate')
